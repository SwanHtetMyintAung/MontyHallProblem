<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="./style.css" rel="stylesheet"/>
    <title>Welcome</title>
</head>
<body>
    <button class="start-exp">Start</button>
</body>
<script>
    const startBtn = document.querySelector(".start-exp");
        startBtn.addEventListener('click',(event)=>{
        choiceChanged()
    })
    function choiceChanged(simuCount = 1000){
        let wins = 0;
        //run the simulation 100 times
        for(let i=0;i<simuCount;i++){
            const simuDoors = [
                { value: 0, selected: false },
                { value: 0, selected: false },
                { value: 0, selected: false },
            ];
        
            // Place the prize behind a random door
            const prizeDoor = Math.floor(Math.random() * 3);
            simuDoors[prizeDoor].value = 1;
        
            // Player's initial random choice
            let initialChoice = Math.floor(Math.random() * 3);
            simuDoors[initialChoice].selected = true;
        
            let untouchedDoor = simuDoors.indexOf(simuDoors.find(e=> e.value != 1 && e.selected == false));
            let selectedDoor = simuDoors.indexOf(simuDoors.find(e=> e.selected == true));
            simuDoors[selectedDoor].selected = false;
            let doorToSwitch = simuDoors.length - (untouchedDoor + selectedDoor);
            simuDoors[doorToSwitch].selected = true;

            let theDoor;
            if (theDoor = simuDoors.find(door => door.value == 1 && door.selected == true)) {
                wins++;
                //console.log(theDoor)
            }

        }
        console.log((wins/simuCount)*100+"%")
    }
</script>
</html>